#!/usr/bin/env ruby

# wait for db
# TODO: need to remove this for production :\
wait_for_mysql = "mysql --host=db --user=root --password=example -e 'SHOW tables from development'"
sleep 2 until system(wait_for_mysql)

begin
  load File.expand_path('../spring', __FILE__)
rescue LoadError => e
  raise unless e.message.include?('spring')
end
APP_PATH = File.expand_path('../config/application', __dir__)
require_relative '../config/boot'
require 'rails/commands'
